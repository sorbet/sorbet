load("//tools:clang.bzl", "clang_tool")
load("@compdb//:aspects.bzl", "compilation_database")

clang_tool("clang-format")

clang_tool("clang-tidy")

compilation_database(
    name = "compdb",
    testonly = True,
    targets = [
        # BEGIN compile_commands targets
        "//third_party/licences:generate_licences",
        "//test/lsp:watchman_test_corpus",
        "//test/lsp:protocol_test_corpus",
        "//test/fuzz:fuzz_hover",
        "//test/fuzz:proto",
        "//test/fuzz:fuzz_dash_e",
        "//test:test_corpus_sharded",
        "//test/helpers:helpers",
        "//test:hello-test",
        "//test:error-check-test",
        "//test:backtrace-test-raise",
        "//test:backtrace-test-error",
        "//test:autocorrect-test",
        "//rbi:generate_procs",
        "//payload/text:generate_payload",
        "//payload/binary:gen_state_payload",
        "//parser:parser_test",
        "//parser:generate_ast",
        "//namer:namer_test",
        "//main/lsp:lsp_test",
        "//main/lsp:generate_lsp_messages",
        "//main:sorbet-orig-light",
        "//payload:light_text",
        "//payload/text:light",
        "//main:sorbet-orig",
        "//payload:text",
        "//payload/text:some",
        "//payload/binary:empty",
        "//main:sorbet-light",
        "//payload:light",
        "//payload/binary:light",
        "//main:sorbet",
        "//payload:payload",
        "//infer:infer_test",
        "//emscripten:main",
        "//payload/text:empty",
        "//payload/binary:some",
        "//main:realmain",
        "//main/lsp:lsp",
        "//payload:interface",
        "//main/pipeline:pipeline",
        "//resolver:resolver",
        "//plugin:plugin",
        "//payload/text:text",
        "//payload/binary:binary",
        "//namer/configatron:configatron",
        "//namer:namer",
        "//infer:infer",
        "//main/options:options",
        "//version:version",
        "//third_party/licences:licences",
        "//main/autogen:autogen",
        "//dsl:dsl",
        "//core/serialize:serialize_test",
        "//core/serialize:serialize",
        "//core/proto:proto",
        "//proto/pay-server:pay-server",
        "//proto:proto",
        "//core:generate_names",
        "//core:core_test",
        "//common/web_tracer_framework:tracing",
        "//common/statsd:statsd",
        "//common/kvstore:kvstore",
        "//common/crypto_hashing:crypto_hashing",
        "//common:common_test",
        "//cfg/builder:builder",
        "//cfg:cfg",
        "//ast/substitute:substitute",
        "//ast/desugar:desugar_test",
        "//ast/desugar:desugar",
        "//parser:parser",
        "//ast/verifier:verifier",
        "//ast/treemap:treemap",
        "//ast:ast",
        "//core:core",
        "//common/concurrency:concurrency",
        "//common:common",
        # END compile_commands targets
    ],
)
