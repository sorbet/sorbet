# typed: true
# selective-apply-code-action: refactor.extract
# enable-experimental-lsp-extract-to-variable: true
#
# This file contain cases where we should disallow the user from extracting to variable,
# but incorrectly allow it.

def a = 1 + 123
#           ^^^ apply-code-action: [A] Extract Variable

/W[aeiou]rd/i
#           ^ apply-code-action: [B] Extract Variable

  newVariable = W[aeiou]rd
  /newVariable/i
#  ^^^^^^^^^^ apply-code-action: [C] Extract Variable

a = T.unsafe(nil) || T.unsafe(nil)
#                ^^^^ apply-code-action: [D] Extract Variable

a = T.unsafe(nil) && T.unsafe(nil)
#                ^^^^ apply-code-action: [E] Extract Variable

class A < T::Struct
  prop :x, String
#      ^^ apply-code-action: [F] Extract Variable
end
