
----- ./unclosed_quote_1.rb ---------------------------------------

./unclosed_quote_1.rb:13: unexpected token "end of file" https://srb.help/2001
    13 |end
    14 |

./unclosed_quote_1.rb:8: Hint: this "if" token might not be properly closed https://srb.help/2003
     8 |  if x
          ^^
    ./unclosed_quote_1.rb:9: Matching `end` found here but is not indented as far
     9 |end
        ^^^
Errors: 2
class <emptyTree><<C <root>>> < (::<todo sym>)
  def before<<todo method>>(&<blk>)
    <emptyTree>
  end

  def foo<<todo method>>(&<blk>)
    begin
      x = "\n    valid"
      if x
        <emptyTree>
      else
        <emptyTree>
      end
    end
  end

  def after<<todo method>>(&<blk>)
    <emptyTree>
  end
end

--------------------------------------------------------------------------

# typed: false

def before; end

def foo
  x = "
    valid"
  if x
end


def after
end

----- ./unclosed_quote_2.rb ---------------------------------------

./unclosed_quote_2.rb:6: escape sequence meets end of file https://srb.help/2001
     6 |  x = "some string
              ^

./unclosed_quote_2.rb:11: unexpected token "end of file" https://srb.help/2001
    11 |
    12 |

./unclosed_quote_2.rb:6: Hint: this string literal might be missing a closing `"` at the end of the line https://srb.help/2003
     6 |  x = "some string
                          ^
Errors: 3
class <emptyTree><<C <root>>> < (::<todo sym>)
  def before<<todo method>>(&<blk>)
    <emptyTree>
  end

  def foo<<todo method>>(&<blk>)
    x = "some string"
  end

  def after<<todo method>>(&<blk>)
    <emptyTree>
  end
end

--------------------------------------------------------------------------

# typed: false

def before; end

def foo
  x = "some string
end

def after
end


----- ./unclosed_quote_3.rb ---------------------------------------

./unclosed_quote_3.rb:6: escape sequence meets end of file https://srb.help/2001
     6 |  x = "valid
              ^

./unclosed_quote_3.rb:12: unexpected token "end of file" https://srb.help/2001
    12 |
    13 |

./unclosed_quote_3.rb:6: Hint: this string literal might be missing a closing `"` at the end of the line https://srb.help/2003
     6 |  x = "valid
                    ^

./unclosed_quote_3.rb:7: Hint: this "if" token might not be properly closed https://srb.help/2003
     7 |  if x
          ^^
    ./unclosed_quote_3.rb:8: Matching `end` found here but is not indented as far
     8 |end
        ^^^
Errors: 4
class <emptyTree><<C <root>>> < (::<todo sym>)
  def before<<todo method>>(&<blk>)
    <emptyTree>
  end

  def foo<<todo method>>(&<blk>)
    begin
      x = "valid"
      if x
        <emptyTree>
      else
        <emptyTree>
      end
    end
  end

  def after<<todo method>>(&<blk>)
    <emptyTree>
  end
end

--------------------------------------------------------------------------

# typed: false

def before; end

def foo
  x = "valid
  if x
end

def after
end


----- ./unclosed_quote_4.rb ---------------------------------------

./unclosed_quote_4.rb:7: escape sequence meets end of file https://srb.help/2001
     7 |    xyz = "
                  ^

./unclosed_quote_4.rb:15: unexpected token "end of file" https://srb.help/2001
    15 |end
    16 |

./unclosed_quote_4.rb:7: Hint: this string literal might be missing a closing `"` at the end of the line https://srb.help/2003
     7 |    xyz = "
                   ^

./unclosed_quote_4.rb:9: Changing the type of a variable is not permitted in loops and blocks https://srb.help/7001
     9 |      xyz = nil
                    ^^^
  Existing variable has type: `String("")`
  Attempting to change type to: `NilClass`

  Autocorrect: Done
    ./unclosed_quote_4.rb:7: Replaced with `T.let(", T.nilable(String))`
     7 |    xyz = "
                  ^
Errors: 4
class <emptyTree><<C <root>>> < (::<todo sym>)
  def before<<todo method>>(&<blk>)
    <emptyTree>
  end

  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)
    def foo<<todo method>>(&<blk>)
      begin
        xyz = ""
        1.times() do ||
          xyz = nil
        end
      end
    end
  end

  def after<<todo method>>(&<blk>)
    <emptyTree>
  end
end

--------------------------------------------------------------------------

# typed: true

def before; end

class A
  def foo
    xyz = T.let(", T.nilable(String))
    1.times do
      xyz = nil
    end
  end
end

def after
end

----- ./unclosed_quote_5.rb ---------------------------------------

./unclosed_quote_5.rb:6: escape sequence meets end of file https://srb.help/2001
     6 |  %w(we are the people
          ^

./unclosed_quote_5.rb:16: unexpected token tSTRING_CONTENT https://srb.help/2001
    16 |
    17 |

./unclosed_quote_5.rb:6: Hint: this string literal might be missing a closing `)` at the end of the line https://srb.help/2003
     6 |  %w(we are the people
                              ^

./unclosed_quote_5.rb:8: Hint: this string literal might be missing a closing `'` at the end of the line https://srb.help/2003
     8 |  'foo
              ^

./unclosed_quote_5.rb:10: Hint: this string literal might be missing a closing `)` at the end of the line https://srb.help/2003
    10 |  %r(foo
                ^
Errors: 5
class <emptyTree><<C <root>>> < (::<todo sym>)
  def before<<todo method>>(&<blk>)
    <emptyTree>
  end

  def main<<todo method>>(&<blk>)
    begin
      ["we", "are", "the"]
      "foo"
      ::Regexp.new("", 0)
    end
  end

  def after<<todo method>>(&<blk>)
    <emptyTree>
  end
end

--------------------------------------------------------------------------

# typed: false

def before; end

def main
  %w(we are the people

  'foo

  %r(foo

end

def after
end


----- ./unclosed_quote_6.rb ---------------------------------------

./unclosed_quote_6.rb:7: escape sequence meets end of file https://srb.help/2001
     7 |    xyz = "#{}
                  ^

./unclosed_quote_6.rb:16: unexpected token "end of file" https://srb.help/2001
    16 |
    17 |

./unclosed_quote_6.rb:7: Hint: this string literal might be missing a closing `"` at the end of the line https://srb.help/2003
     7 |    xyz = "#{}
                      ^

./unclosed_quote_6.rb:9: Changing the type of a variable is not permitted in loops and blocks https://srb.help/7001
     9 |      xyz = nil
                    ^^^
  Existing variable has type: `String`
  Attempting to change type to: `NilClass`

  Autocorrect: Done
    ./unclosed_quote_6.rb:7: Replaced with `T.let("#{}, T.nilable(String))`
     7 |    xyz = "#{}
                  ^^^^
Errors: 4
class <emptyTree><<C <root>>> < (::<todo sym>)
  def before<<todo method>>(&<blk>)
    <emptyTree>
  end

  class <emptyTree>::<C A><<C <todo sym>>> < (::<todo sym>)
    def foo<<todo method>>(&<blk>)
      begin
        xyz = ::<Magic>.<string-interpolate>(nil)
        1.times() do ||
          xyz = nil
        end
      end
    end
  end

  def after<<todo method>>(&<blk>)
    <emptyTree>
  end
end

--------------------------------------------------------------------------

# typed: true

def before; end

class A
  def foo
    xyz = T.let("#{}, T.nilable(String))
    1.times do
      xyz = nil
    end
  end
end

def after
end


----- ./unclosed_quote_7.rb ---------------------------------------

./unclosed_quote_7.rb:9: escape sequence meets end of file https://srb.help/2001
     9 |  x = "unclosed string
              ^

./unclosed_quote_7.rb:12: unexpected token "end of file" https://srb.help/2001
    12 |def after; end
    13 |

./unclosed_quote_7.rb:6: Hint: this string literal might be missing a closing `"` at the end of the line https://srb.help/2003
     6 |  x = "first line
                         ^

./unclosed_quote_7.rb:7: Hint: this string literal might be missing a closing `"` at the end of the line https://srb.help/2003
     7 |  second line"
                      ^

./unclosed_quote_7.rb:9: Hint: this string literal might be missing a closing `"` at the end of the line https://srb.help/2003
     9 |  x = "unclosed string
                              ^
Errors: 5
class <emptyTree><<C <root>>> < (::<todo sym>)
  def before<<todo method>>(&<blk>)
    <emptyTree>
  end

  def foo<<todo method>>(&<blk>)
    begin
      x = "first line"
      <self>.second(<self>.line(""))
      x = "unclosed string"
    end
  end

  def after<<todo method>>(&<blk>)
    <emptyTree>
  end
end

--------------------------------------------------------------------------

# typed: false

def before; end

def foo
  x = "first line
  second line"

  x = "unclosed string
end

def after; end
